import React, { Component } from "react";
import CanvasJSReact from '@canvasjs/react-stockcharts';
import axios from "axios";
import {Outlet} from "react-router-dom";

let Company = "IBM";
let API_KEY = "31607V511WRQOET8"
var CanvasJS = CanvasJSReact.CanvasJS;
let CanvasJSStockChart = CanvasJSReact.CanvasJSStockChart;

const returnedData = {
    "Meta Data": {
        "1. Information": "Daily Prices (open, high, low, close) and Volumes",
        "2. Symbol": "IBM",
        "3. Last Refreshed": "2023-11-15",
        "4. Output Size": "Full size",
        "5. Time Zone": "US/Eastern"
    },
    "Time Series (Daily)": {
        "2023-11-15": {
            "1. open": "150.4000",
            "2. high": "153.2200",
            "3. low": "150.4000",
            "4. close": "152.5800",
            "5. volume": "4632519"
        },
        "2023-11-14": {
            "1. open": "149.4500",
            "2. high": "150.8063",
            "3. low": "149.0500",
            "4. close": "150.4100",
            "5. volume": "4321940"
        },
        "2023-11-13": {
            "1. open": "148.4600",
            "2. high": "148.4900",
            "3. low": "147.3500",
            "4. close": "148.1000",
            "5. volume": "2647288"
        },
        "2023-11-10": {
            "1. open": "147.4400",
            "2. high": "149.1700",
            "3. low": "146.8500",
            "4. close": "149.0200",
            "5. volume": "3179541"
        },
        "2023-11-09": {
            "1. open": "146.5500",
            "2. high": "146.9900",
            "3. low": "145.2800",
            "4. close": "146.6200",
            "5. volume": "3412713"
        },
        "2023-11-08": {
            "1. open": "149.2500",
            "2. high": "149.6800",
            "3. low": "147.5850",
            "4. close": "148.0300",
            "5. volume": "3618588"
        },
        "2023-11-07": {
            "1. open": "149.0300",
            "2. high": "149.2800",
            "3. low": "148.0300",
            "4. close": "148.8300",
            "5. volume": "3549853"
        },
        "2023-11-06": {
            "1. open": "147.8900",
            "2. high": "149.2250",
            "3. low": "147.8500",
            "4. close": "148.9700",
            "5. volume": "4597249"
        },
        "2023-11-03": {
            "1. open": "147.4500",
            "2. high": "148.4450",
            "3. low": "147.2800",
            "4. close": "147.9000",
            "5. volume": "3510495"
        },
        "2023-11-02": {
            "1. open": "145.7700",
            "2. high": "147.1000",
            "3. low": "144.8400",
            "4. close": "147.0100",
            "5. volume": "3902657"
        },
        "2023-11-01": {
            "1. open": "145.0000",
            "2. high": "146.5100",
            "3. low": "144.4500",
            "4. close": "145.4000",
            "5. volume": "4750081"
        },
        "2023-10-31": {
            "1. open": "143.0000",
            "2. high": "144.7600",
            "3. low": "142.5900",
            "4. close": "144.6400",
            "5. volume": "6592041"
        },
        "2023-10-30": {
            "1. open": "143.1900",
            "2. high": "144.5000",
            "3. low": "142.5800",
            "4. close": "142.6300",
            "5. volume": "4204190"
        },
        "2023-10-27": {
            "1. open": "143.6200",
            "2. high": "144.7000",
            "3. low": "141.7100",
            "4. close": "142.5200",
            "5. volume": "5469227"
        },
        "2023-10-26": {
            "1. open": "142.2000",
            "2. high": "144.4100",
            "3. low": "141.5800",
            "4. close": "143.7600",
            "5. volume": "11130170"
        },
        "2023-10-25": {
            "1. open": "137.5000",
            "2. high": "138.4900",
            "3. low": "136.3300",
            "4. close": "137.0800",
            "5. volume": "6472549"
        },
        "2023-10-24": {
            "1. open": "136.7400",
            "2. high": "137.9800",
            "3. low": "136.0500",
            "4. close": "137.7900",
            "5. volume": "3697975"
        },
        "2023-10-23": {
            "1. open": "136.6300",
            "2. high": "137.6800",
            "3. low": "135.8700",
            "4. close": "136.3800",
            "5. volume": "3457527"
        },
        "2023-10-20": {
            "1. open": "138.1500",
            "2. high": "139.2700",
            "3. low": "137.1200",
            "4. close": "137.1600",
            "5. volume": "4865615"
        },
        "2023-10-19": {
            "1. open": "138.6400",
            "2. high": "139.4050",
            "3. low": "137.9300",
            "4. close": "138.0100",
            "5. volume": "5314159"
        },
        "2023-10-18": {
            "1. open": "140.0000",
            "2. high": "140.4300",
            "3. low": "139.5800",
            "4. close": "139.9700",
            "5. volume": "3329985"
        },
        "2023-10-17": {
            "1. open": "137.1200",
            "2. high": "140.6200",
            "3. low": "136.3100",
            "4. close": "140.3200",
            "5. volume": "4172822"
        },
        "2023-10-16": {
            "1. open": "139.2800",
            "2. high": "139.7800",
            "3. low": "138.5200",
            "4. close": "139.2100",
            "5. volume": "3361468"
        },
        "2023-10-13": {
            "1. open": "139.7700",
            "2. high": "140.1200",
            "3. low": "138.2700",
            "4. close": "138.4600",
            "5. volume": "4583553"
        },
        "2023-10-12": {
            "1. open": "142.5100",
            "2. high": "142.9300",
            "3. low": "140.9500",
            "4. close": "141.2400",
            "5. volume": "3921142"
        },
        "2023-10-11": {
            "1. open": "142.5100",
            "2. high": "143.3400",
            "3. low": "142.1400",
            "4. close": "143.2300",
            "5. volume": "2511459"
        },
        "2023-10-10": {
            "1. open": "142.6000",
            "2. high": "143.4150",
            "3. low": "141.7200",
            "4. close": "142.1100",
            "5. volume": "3015784"
        },
        "2023-10-09": {
            "1. open": "142.3000",
            "2. high": "142.4000",
            "3. low": "140.6800",
            "4. close": "142.2000",
            "5. volume": "2354396"
        },
        "2023-10-06": {
            "1. open": "141.4000",
            "2. high": "142.9400",
            "3. low": "140.1100",
            "4. close": "142.0300",
            "5. volume": "3511347"
        },
        "2023-10-05": {
            "1. open": "140.9000",
            "2. high": "141.7000",
            "3. low": "140.1900",
            "4. close": "141.5200",
            "5. volume": "3223910"
        },
        "2023-10-04": {
            "1. open": "140.3700",
            "2. high": "141.2004",
            "3. low": "139.9900",
            "4. close": "141.0700",
            "5. volume": "2637779"
        },
        "2023-10-03": {
            "1. open": "140.8700",
            "2. high": "141.6400",
            "3. low": "140.0000",
            "4. close": "140.3900",
            "5. volume": "3284421"
        },
        "2023-10-02": {
            "1. open": "140.0400",
            "2. high": "141.4500",
            "3. low": "139.8600",
            "4. close": "140.8000",
            "5. volume": "3275461"
        },
        "2023-09-29": {
            "1. open": "142.0000",
            "2. high": "142.1300",
            "3. low": "139.6100",
            "4. close": "140.3000",
            "5. volume": "5703983"
        },
        "2023-09-28": {
            "1. open": "142.1400",
            "2. high": "142.2820",
            "3. low": "140.2050",
            "4. close": "141.5800",
            "5. volume": "5783422"
        },
        "2023-09-27": {
            "1. open": "143.6700",
            "2. high": "143.8200",
            "3. low": "141.7600",
            "4. close": "143.1700",
            "5. volume": "4439121"
        },
        "2023-09-26": {
            "1. open": "145.5100",
            "2. high": "146.1700",
            "3. low": "143.0201",
            "4. close": "143.2400",
            "5. volume": "4824654"
        },
        "2023-09-25": {
            "1. open": "146.5700",
            "2. high": "147.4300",
            "3. low": "146.2500",
            "4. close": "146.4800",
            "5. volume": "2694245"
        },
        "2023-09-22": {
            "1. open": "147.4100",
            "2. high": "148.1000",
            "3. low": "146.8200",
            "4. close": "146.9100",
            "5. volume": "2562216"
        },
        "2023-09-21": {
            "1. open": "149.0000",
            "2. high": "149.2500",
            "3. low": "147.3100",
            "4. close": "147.3800",
            "5. volume": "4944786"
        },
        "2023-09-20": {
            "1. open": "148.3600",
            "2. high": "151.9299",
            "3. low": "148.1300",
            "4. close": "149.8300",
            "5. volume": "9636681"
        },
        "2023-09-19": {
            "1. open": "145.0000",
            "2. high": "146.7200",
            "3. low": "144.6600",
            "4. close": "146.5200",
            "5. volume": "3945423"
        },
        "2023-09-18": {
            "1. open": "145.7700",
            "2. high": "146.4800",
            "3. low": "145.0600",
            "4. close": "145.0900",
            "5. volume": "2508062"
        },
        "2023-09-15": {
            "1. open": "147.1100",
            "2. high": "147.8500",
            "3. low": "145.5300",
            "4. close": "145.9900",
            "5. volume": "6234033"
        },
        "2023-09-14": {
            "1. open": "147.3800",
            "2. high": "147.7300",
            "3. low": "146.4800",
            "4. close": "147.3500",
            "5. volume": "2723200"
        },
        "2023-09-13": {
            "1. open": "145.9500",
            "2. high": "146.9800",
            "3. low": "145.9200",
            "4. close": "146.5500",
            "5. volume": "2627999"
        },
        "2023-09-12": {
            "1. open": "147.9200",
            "2. high": "148.0000",
            "3. low": "145.8000",
            "4. close": "146.3000",
            "5. volume": "4457695"
        },
        "2023-09-11": {
            "1. open": "148.5700",
            "2. high": "148.7800",
            "3. low": "147.5800",
            "4. close": "148.3800",
            "5. volume": "3273720"
        },
        "2023-09-08": {
            "1. open": "147.3500",
            "2. high": "148.5900",
            "3. low": "147.2600",
            "4. close": "147.6800",
            "5. volume": "3722927"
        },
        "2023-09-07": {
            "1. open": "148.1300",
            "2. high": "148.7800",
            "3. low": "147.4000",
            "4. close": "147.5200",
            "5. volume": "3333040"
        },
        "2023-09-06": {
            "1. open": "147.6600",
            "2. high": "148.3300",
            "3. low": "147.1200",
            "4. close": "148.0600",
            "5. volume": "2932203"
        },
        "2023-09-05": {
            "1. open": "147.9100",
            "2. high": "149.0000",
            "3. low": "147.5719",
            "4. close": "148.1300",
            "5. volume": "3731281"
        },
        "2023-09-01": {
            "1. open": "147.2600",
            "2. high": "148.1000",
            "3. low": "146.9200",
            "4. close": "147.9400",
            "5. volume": "2727796"
        },
        "2023-08-31": {
            "1. open": "146.9400",
            "2. high": "147.7275",
            "3. low": "146.5400",
            "4. close": "146.8300",
            "5. volume": "3885949"
        },
        "2023-08-30": {
            "1. open": "146.4200",
            "2. high": "146.9200",
            "3. low": "145.7452",
            "4. close": "146.8600",
            "5. volume": "2245402"
        },
        "2023-08-29": {
            "1. open": "146.3000",
            "2. high": "146.7300",
            "3. low": "145.6200",
            "4. close": "146.4500",
            "5. volume": "2778113"
        },
        "2023-08-28": {
            "1. open": "145.4100",
            "2. high": "146.7400",
            "3. low": "145.2100",
            "4. close": "146.0200",
            "5. volume": "3561347"
        },
        "2023-08-25": {
            "1. open": "144.1800",
            "2. high": "145.4700",
            "3. low": "143.5000",
            "4. close": "145.3500",
            "5. volume": "3660147"
        },
        "2023-08-24": {
            "1. open": "143.5050",
            "2. high": "144.4700",
            "3. low": "143.2200",
            "4. close": "143.5500",
            "5. volume": "2900244"
        },
        "2023-08-23": {
            "1. open": "141.7200",
            "2. high": "143.4750",
            "3. low": "141.5800",
            "4. close": "143.4100",
            "5. volume": "2559083"
        },
        "2023-08-22": {
            "1. open": "142.6600",
            "2. high": "143.2250",
            "3. low": "141.3000",
            "4. close": "141.4900",
            "5. volume": "3557734"
        },
        "2023-08-21": {
            "1. open": "141.4200",
            "2. high": "142.3900",
            "3. low": "141.1100",
            "4. close": "142.2800",
            "5. volume": "2937781"
        },
        "2023-08-18": {
            "1. open": "140.0000",
            "2. high": "141.8300",
            "3. low": "139.7600",
            "4. close": "141.4100",
            "5. volume": "3915480"
        },
        "2023-08-17": {
            "1. open": "141.0100",
            "2. high": "142.6600",
            "3. low": "140.6000",
            "4. close": "140.6600",
            "5. volume": "3742058"
        },
        "2023-08-16": {
            "1. open": "141.7000",
            "2. high": "142.0900",
            "3. low": "140.5600",
            "4. close": "140.6400",
            "5. volume": "3285347"
        },
        "2023-08-15": {
            "1. open": "141.5000",
            "2. high": "142.3100",
            "3. low": "141.2000",
            "4. close": "141.8700",
            "5. volume": "3656559"
        },
        "2023-08-14": {
            "1. open": "143.0500",
            "2. high": "143.3650",
            "3. low": "141.8020",
            "4. close": "141.9100",
            "5. volume": "4226563"
        },
        "2023-08-11": {
            "1. open": "143.1200",
            "2. high": "143.4500",
            "3. low": "142.2050",
            "4. close": "143.1200",
            "5. volume": "2526433"
        },
        "2023-08-10": {
            "1. open": "143.0400",
            "2. high": "144.5800",
            "3. low": "142.6900",
            "4. close": "143.2500",
            "5. volume": "4735763"
        },
        "2023-08-09": {
            "1. open": "144.9400",
            "2. high": "144.9400",
            "3. low": "142.3000",
            "4. close": "142.4900",
            "5. volume": "4073038"
        },
        "2023-08-08": {
            "1. open": "145.7000",
            "2. high": "146.1500",
            "3. low": "144.1100",
            "4. close": "145.9100",
            "5. volume": "4654582"
        },
        "2023-08-07": {
            "1. open": "145.0000",
            "2. high": "146.5000",
            "3. low": "144.9300",
            "4. close": "146.1800",
            "5. volume": "3438654"
        },
        "2023-08-04": {
            "1. open": "145.0900",
            "2. high": "146.0900",
            "3. low": "143.9900",
            "4. close": "144.2400",
            "5. volume": "4223204"
        },
        "2023-08-03": {
            "1. open": "143.7800",
            "2. high": "145.2200",
            "3. low": "143.3116",
            "4. close": "144.4500",
            "5. volume": "3952640"
        },
        "2023-08-02": {
            "1. open": "142.7800",
            "2. high": "144.3000",
            "3. low": "142.3100",
            "4. close": "144.1700",
            "5. volume": "4959381"
        },
        "2023-08-01": {
            "1. open": "144.2500",
            "2. high": "144.4800",
            "3. low": "142.1700",
            "4. close": "143.3300",
            "5. volume": "4798703"
        },
        "2023-07-31": {
            "1. open": "143.8100",
            "2. high": "144.6050",
            "3. low": "143.5300",
            "4. close": "144.1800",
            "5. volume": "6138902"
        },
        "2023-07-28": {
            "1. open": "143.4400",
            "2. high": "143.9500",
            "3. low": "142.8500",
            "4. close": "143.4500",
            "5. volume": "6686627"
        },
        "2023-07-27": {
            "1. open": "142.3000",
            "2. high": "143.3800",
            "3. low": "141.9000",
            "4. close": "142.9700",
            "5. volume": "6331563"
        },
        "2023-07-26": {
            "1. open": "140.4400",
            "2. high": "141.2500",
            "3. low": "139.8800",
            "4. close": "141.0700",
            "5. volume": "4046441"
        },
        "2023-07-25": {
            "1. open": "139.4200",
            "2. high": "140.4300",
            "3. low": "139.0403",
            "4. close": "140.3300",
            "5. volume": "3770813"
        },
        "2023-07-24": {
            "1. open": "139.3500",
            "2. high": "140.1200",
            "3. low": "138.7788",
            "4. close": "139.5400",
            "5. volume": "3475442"
        },
        "2023-07-21": {
            "1. open": "138.2100",
            "2. high": "139.7799",
            "3. low": "137.7600",
            "4. close": "138.9400",
            "5. volume": "5858741"
        },
        "2023-07-20": {
            "1. open": "137.1900",
            "2. high": "140.3200",
            "3. low": "136.5600",
            "4. close": "138.3800",
            "5. volume": "10896330"
        },
        "2023-07-19": {
            "1. open": "135.5300",
            "2. high": "136.4500",
            "3. low": "135.1900",
            "4. close": "135.4800",
            "5. volume": "5519992"
        },
        "2023-07-18": {
            "1. open": "134.7100",
            "2. high": "135.9500",
            "3. low": "134.2900",
            "4. close": "135.3600",
            "5. volume": "3852058"
        },
        "2023-07-17": {
            "1. open": "133.2600",
            "2. high": "134.6100",
            "3. low": "133.1000",
            "4. close": "134.2400",
            "5. volume": "3168419"
        },
        "2023-07-14": {
            "1. open": "133.9100",
            "2. high": "133.9200",
            "3. low": "132.9400",
            "4. close": "133.4000",
            "5. volume": "2861496"
        },
        "2023-07-13": {
            "1. open": "133.5100",
            "2. high": "135.0700",
            "3. low": "133.3600",
            "4. close": "133.9200",
            "5. volume": "3221422"
        },
        "2023-07-12": {
            "1. open": "135.0700",
            "2. high": "135.3300",
            "3. low": "132.5750",
            "4. close": "132.8400",
            "5. volume": "3732189"
        },
        "2023-07-11": {
            "1. open": "133.6600",
            "2. high": "134.5600",
            "3. low": "133.2300",
            "4. close": "134.4400",
            "5. volume": "2925238"
        },
        "2023-07-10": {
            "1. open": "131.7600",
            "2. high": "133.0500",
            "3. low": "131.6950",
            "4. close": "132.9000",
            "5. volume": "2369425"
        },
        "2023-07-07": {
            "1. open": "131.7800",
            "2. high": "133.8550",
            "3. low": "131.7500",
            "4. close": "132.0800",
            "5. volume": "2982738"
        },
        "2023-07-06": {
            "1. open": "133.2350",
            "2. high": "133.9000",
            "3. low": "131.5500",
            "4. close": "132.1600",
            "5. volume": "3508083"
        },
        "2023-07-05": {
            "1. open": "133.3200",
            "2. high": "134.3100",
            "3. low": "132.5900",
            "4. close": "134.2400",
            "5. volume": "2955870"
        },
        "2023-07-03": {
            "1. open": "133.4200",
            "2. high": "134.3500",
            "3. low": "132.8700",
            "4. close": "133.6700",
            "5. volume": "1477149"
        },
        "2023-06-30": {
            "1. open": "134.6900",
            "2. high": "135.0300",
            "3. low": "133.4250",
            "4. close": "133.8100",
            "5. volume": "4236677"
        },
        "2023-06-29": {
            "1. open": "131.7500",
            "2. high": "134.3500",
            "3. low": "131.6900",
            "4. close": "134.0600",
            "5. volume": "3639836"
        },
        "2023-06-28": {
            "1. open": "132.0600",
            "2. high": "132.1700",
            "3. low": "130.9100",
            "4. close": "131.7600",
            "5. volume": "2753779"
        },
        "2023-06-27": {
            "1. open": "131.3000",
            "2. high": "132.9500",
            "3. low": "130.8300",
            "4. close": "132.3400",
            "5. volume": "3219909"
        },
        "2023-06-26": {
            "1. open": "129.3900",
            "2. high": "131.4100",
            "3. low": "129.3100",
            "4. close": "131.3400",
            "5. volume": "4845649"
        },
        "2023-06-23": {
            "1. open": "130.4000",
            "2. high": "130.6200",
            "3. low": "129.1800",
            "4. close": "129.4300",
            "5. volume": "11324705"
        },
        "2023-06-22": {
            "1. open": "131.6800",
            "2. high": "132.9600",
            "3. low": "130.6800",
            "4. close": "131.1700",
            "5. volume": "6013021"
        },
        "2023-06-21": {
            "1. open": "135.1100",
            "2. high": "135.3900",
            "3. low": "133.2900",
            "4. close": "133.6900",
            "5. volume": "5501272"
        },
        "2023-06-20": {
            "1. open": "136.3600",
            "2. high": "137.2300",
            "3. low": "135.8900",
            "4. close": "135.9600",
            "5. volume": "4272511"
        },
        "2023-06-16": {
            "1. open": "139.2300",
            "2. high": "139.4690",
            "3. low": "137.4700",
            "4. close": "137.4800",
            "5. volume": "7473676"
        },
        "2023-06-15": {
            "1. open": "137.2700",
            "2. high": "138.8000",
            "3. low": "137.1750",
            "4. close": "138.4000",
            "5. volume": "3812582"
        },
        "2023-06-14": {
            "1. open": "137.8000",
            "2. high": "138.9300",
            "3. low": "136.9400",
            "4. close": "137.2000",
            "5. volume": "4514888"
        },
        "2023-06-13": {
            "1. open": "136.5100",
            "2. high": "138.1700",
            "3. low": "136.0000",
            "4. close": "137.6000",
            "5. volume": "3927331"
        },
        "2023-06-12": {
            "1. open": "136.0000",
            "2. high": "136.6200",
            "3. low": "135.8216",
            "4. close": "136.4200",
            "5. volume": "4500120"
        },
        "2023-06-09": {
            "1. open": "134.3600",
            "2. high": "136.1000",
            "3. low": "134.1700",
            "4. close": "135.3000",
            "5. volume": "3981748"
        },
        "2023-06-08": {
            "1. open": "134.6900",
            "2. high": "135.9800",
            "3. low": "134.0100",
            "4. close": "134.4100",
            "5. volume": "4128939"
        },
        "2023-06-07": {
            "1. open": "132.5000",
            "2. high": "134.4400",
            "3. low": "132.1900",
            "4. close": "134.3800",
            "5. volume": "5772024"
        },
        "2023-06-06": {
            "1. open": "132.4300",
            "2. high": "132.9400",
            "3. low": "131.8800",
            "4. close": "132.6900",
            "5. volume": "3297951"
        },
        "2023-06-05": {
            "1. open": "133.1200",
            "2. high": "133.5800",
            "3. low": "132.2700",
            "4. close": "132.6400",
            "5. volume": "3993516"
        },
        "2023-06-02": {
            "1. open": "130.3800",
            "2. high": "133.1200",
            "3. low": "130.1500",
            "4. close": "132.4200",
            "5. volume": "5375796"
        },
        "2023-06-01": {
            "1. open": "128.4400",
            "2. high": "130.1450",
            "3. low": "127.7800",
            "4. close": "129.8200",
            "5. volume": "4136086"
        },
        "2023-05-31": {
            "1. open": "128.5100",
            "2. high": "129.4400",
            "3. low": "127.4600",
            "4. close": "128.5900",
            "5. volume": "11086313"
        },
        "2023-05-30": {
            "1. open": "129.5600",
            "2. high": "130.0699",
            "3. low": "128.2600",
            "4. close": "129.4800",
            "5. volume": "3741050"
        },
        "2023-05-26": {
            "1. open": "127.0600",
            "2. high": "129.6600",
            "3. low": "126.8100",
            "4. close": "128.8900",
            "5. volume": "5612570"
        },
        "2023-05-25": {
            "1. open": "125.6100",
            "2. high": "127.2300",
            "3. low": "125.0100",
            "4. close": "126.7600",
            "5. volume": "4102854"
        },
        "2023-05-24": {
            "1. open": "127.8200",
            "2. high": "127.9000",
            "3. low": "125.4700",
            "4. close": "125.6800",
            "5. volume": "3915505"
        },
        "2023-05-23": {
            "1. open": "127.2400",
            "2. high": "129.0900",
            "3. low": "127.1300",
            "4. close": "128.1800",
            "5. volume": "4592280"
        },
        "2023-05-22": {
            "1. open": "127.5000",
            "2. high": "128.1900",
            "3. low": "127.1500",
            "4. close": "127.5000",
            "5. volume": "2806770"
        },
        "2023-05-19": {
            "1. open": "126.7900",
            "2. high": "128.2900",
            "3. low": "126.5500",
            "4. close": "127.2600",
            "5. volume": "4306657"
        },
        "2023-05-18": {
            "1. open": "125.3000",
            "2. high": "126.5100",
            "3. low": "125.1894",
            "4. close": "126.1500",
            "5. volume": "3797883"
        },
        "2023-05-17": {
            "1. open": "123.9400",
            "2. high": "125.8500",
            "3. low": "123.4700",
            "4. close": "125.7100",
            "5. volume": "4515134"
        },
        "2023-05-16": {
            "1. open": "123.3500",
            "2. high": "123.8600",
            "3. low": "122.4500",
            "4. close": "123.4600",
            "5. volume": "2749125"
        },
        "2023-05-15": {
            "1. open": "123.0000",
            "2. high": "123.6881",
            "3. low": "122.3400",
            "4. close": "123.3600",
            "5. volume": "2915725"
        },
        "2023-05-12": {
            "1. open": "121.4100",
            "2. high": "122.8600",
            "3. low": "121.1100",
            "4. close": "122.8400",
            "5. volume": "4564825"
        },
        "2023-05-11": {
            "1. open": "122.0200",
            "2. high": "122.2400",
            "3. low": "120.5500",
            "4. close": "120.9000",
            "5. volume": "3446452"
        },
        "2023-05-10": {
            "1. open": "121.9900",
            "2. high": "122.4900",
            "3. low": "121.1000",
            "4. close": "122.0200",
            "5. volume": "4189222"
        },
        "2023-05-09": {
            "1. open": "121.9000",
            "2. high": "121.9700",
            "3. low": "120.6600",
            "4. close": "121.1700",
            "5. volume": "4540047"
        },
        "2023-05-08": {
            "1. open": "123.7600",
            "2. high": "123.9200",
            "3. low": "122.5500",
            "4. close": "123.4000",
            "5. volume": "3663818"
        },
        "2023-05-05": {
            "1. open": "123.1100",
            "2. high": "124.1000",
            "3. low": "122.8050",
            "4. close": "123.6500",
            "5. volume": "4971936"
        },
        "2023-05-04": {
            "1. open": "123.0300",
            "2. high": "123.5200",
            "3. low": "121.7563",
            "4. close": "122.5700",
            "5. volume": "4468237"
        },
        "2023-05-03": {
            "1. open": "125.4600",
            "2. high": "125.5700",
            "3. low": "123.2600",
            "4. close": "123.4500",
            "5. volume": "4554212"
        },
        "2023-05-02": {
            "1. open": "126.3000",
            "2. high": "126.4500",
            "3. low": "123.2700",
            "4. close": "125.1600",
            "5. volume": "4445283"
        },
        "2023-05-01": {
            "1. open": "126.3500",
            "2. high": "126.7500",
            "3. low": "126.0600",
            "4. close": "126.0900",
            "5. volume": "2724992"
        },
        "2023-04-28": {
            "1. open": "126.5800",
            "2. high": "127.2500",
            "3. low": "125.6400",
            "4. close": "126.4100",
            "5. volume": "5061247"
        },
        "2023-04-27": {
            "1. open": "126.3700",
            "2. high": "127.0200",
            "3. low": "125.4550",
            "4. close": "126.9700",
            "5. volume": "3204889"
        },
        "2023-04-26": {
            "1. open": "125.8100",
            "2. high": "126.5450",
            "3. low": "125.1200",
            "4. close": "125.8500",
            "5. volume": "4058800"
        },
        "2023-04-25": {
            "1. open": "124.9000",
            "2. high": "126.1900",
            "3. low": "124.7600",
            "4. close": "125.8900",
            "5. volume": "4275396"
        },
        "2023-04-24": {
            "1. open": "125.5500",
            "2. high": "126.0500",
            "3. low": "124.5600",
            "4. close": "125.4000",
            "5. volume": "4043892"
        },
        "2023-04-21": {
            "1. open": "126.0000",
            "2. high": "126.7000",
            "3. low": "125.2700",
            "4. close": "125.7300",
            "5. volume": "6725426"
        },
        "2023-04-20": {
            "1. open": "130.1500",
            "2. high": "130.9800",
            "3. low": "125.8400",
            "4. close": "126.3600",
            "5. volume": "9749618"
        },
        "2023-04-19": {
            "1. open": "126.5000",
            "2. high": "126.9800",
            "3. low": "125.3000",
            "4. close": "126.3200",
            "5. volume": "7014368"
        },
        "2023-04-18": {
            "1. open": "128.1400",
            "2. high": "128.6800",
            "3. low": "127.3500",
            "4. close": "127.7800",
            "5. volume": "3193787"
        },
        "2023-04-17": {
            "1. open": "128.3000",
            "2. high": "128.7200",
            "3. low": "126.8000",
            "4. close": "127.8200",
            "5. volume": "3657929"
        },
        "2023-04-14": {
            "1. open": "128.4600",
            "2. high": "129.8400",
            "3. low": "127.3100",
            "4. close": "128.1400",
            "5. volume": "4180614"
        },
        "2023-04-13": {
            "1. open": "128.0100",
            "2. high": "128.3900",
            "3. low": "126.0000",
            "4. close": "127.9000",
            "5. volume": "5621512"
        },
        "2023-04-12": {
            "1. open": "130.4000",
            "2. high": "130.8857",
            "3. low": "128.1700",
            "4. close": "128.5400",
            "5. volume": "3957542"
        },
        "2023-04-11": {
            "1. open": "130.5800",
            "2. high": "131.1050",
            "3. low": "130.1800",
            "4. close": "130.4200",
            "5. volume": "3132430"
        },
        "2023-04-10": {
            "1. open": "129.8300",
            "2. high": "131.0800",
            "3. low": "129.2400",
            "4. close": "131.0300",
            "5. volume": "2614402"
        },
        "2023-04-06": {
            "1. open": "132.1600",
            "2. high": "132.6000",
            "3. low": "130.3150",
            "4. close": "130.5000",
            "5. volume": "3050581"
        },
        "2023-04-05": {
            "1. open": "131.3700",
            "2. high": "132.6100",
            "3. low": "131.3700",
            "4. close": "132.1400",
            "5. volume": "2898759"
        },
        "2023-04-04": {
            "1. open": "131.9900",
            "2. high": "132.1499",
            "3. low": "130.8900",
            "4. close": "131.6000",
            "5. volume": "3382783"
        },
        "2023-04-03": {
            "1. open": "130.9700",
            "2. high": "132.6100",
            "3. low": "130.7700",
            "4. close": "132.0600",
            "5. volume": "3840139"
        },
        "2023-03-31": {
            "1. open": "129.4700",
            "2. high": "131.2300",
            "3. low": "129.4200",
            "4. close": "131.0900",
            "5. volume": "4524686"
        },
        "2023-03-30": {
            "1. open": "130.1600",
            "2. high": "131.4800",
            "3. low": "129.1000",
            "4. close": "129.2200",
            "5. volume": "3561762"
        },
        "2023-03-29": {
            "1. open": "130.1200",
            "2. high": "130.3500",
            "3. low": "129.1800",
            "4. close": "129.7100",
            "5. volume": "3279846"
        },
        "2023-03-28": {
            "1. open": "129.1800",
            "2. high": "129.6600",
            "3. low": "128.8000",
            "4. close": "129.3400",
            "5. volume": "2889115"
        },
        "2023-03-27": {
            "1. open": "126.4700",
            "2. high": "130.2550",
            "3. low": "126.4700",
            "4. close": "129.3100",
            "5. volume": "6524113"
        },
        "2023-03-24": {
            "1. open": "123.3600",
            "2. high": "125.4000",
            "3. low": "122.8800",
            "4. close": "125.2900",
            "5. volume": "3812644"
        },
        "2023-03-23": {
            "1. open": "123.8100",
            "2. high": "124.9300",
            "3. low": "122.6000",
            "4. close": "123.3700",
            "5. volume": "4651936"
        },
        "2023-03-22": {
            "1. open": "127.0000",
            "2. high": "127.2150",
            "3. low": "124.0100",
            "4. close": "124.0500",
            "5. volume": "3549024"
        },
        "2023-03-21": {
            "1. open": "126.9000",
            "2. high": "127.1500",
            "3. low": "125.6600",
            "4. close": "126.5700",
            "5. volume": "3856345"
        },
        "2023-03-20": {
            "1. open": "124.3100",
            "2. high": "126.1600",
            "3. low": "124.1900",
            "4. close": "125.9400",
            "5. volume": "4588304"
        },
        "2023-03-17": {
            "1. open": "124.0800",
            "2. high": "124.5200",
            "3. low": "122.9300",
            "4. close": "123.6900",
            "5. volume": "37400167"
        },
        "2023-03-16": {
            "1. open": "122.9600",
            "2. high": "124.8200",
            "3. low": "121.9200",
            "4. close": "124.7000",
            "5. volume": "6440023"
        },
        "2023-03-15": {
            "1. open": "122.9900",
            "2. high": "123.3500",
            "3. low": "121.7100",
            "4. close": "123.2800",
            "5. volume": "5989339"
        },
        "2023-03-14": {
            "1. open": "126.4900",
            "2. high": "126.6400",
            "3. low": "123.2000",
            "4. close": "124.6500",
            "5. volume": "8114792"
        },
        "2023-03-13": {
            "1. open": "125.1500",
            "2. high": "128.1900",
            "3. low": "124.8500",
            "4. close": "125.5800",
            "5. volume": "8188369"
        },
        "2023-03-10": {
            "1. open": "126.1200",
            "2. high": "127.2900",
            "3. low": "125.1300",
            "4. close": "125.4500",
            "5. volume": "5990867"
        },
        "2023-03-09": {
            "1. open": "128.3000",
            "2. high": "128.5300",
            "3. low": "125.9800",
            "4. close": "126.1600",
            "5. volume": "5478317"
        },
        "2023-03-08": {
            "1. open": "128.4800",
            "2. high": "128.7400",
            "3. low": "127.5450",
            "4. close": "128.0500",
            "5. volume": "2778798"
        },
        "2023-03-07": {
            "1. open": "130.2800",
            "2. high": "130.4200",
            "3. low": "128.1900",
            "4. close": "128.2500",
            "5. volume": "3530439"
        },
        "2023-03-06": {
            "1. open": "129.6400",
            "2. high": "130.8600",
            "3. low": "129.5900",
            "4. close": "130.1900",
            "5. volume": "2982980"
        },
        "2023-03-03": {
            "1. open": "129.3500",
            "2. high": "129.9050",
            "3. low": "128.7700",
            "4. close": "129.6400",
            "5. volume": "2860286"
        },
        "2023-03-02": {
            "1. open": "128.3900",
            "2. high": "129.2200",
            "3. low": "127.7100",
            "4. close": "128.9300",
            "5. volume": "3340254"
        },
        "2023-03-01": {
            "1. open": "128.9000",
            "2. high": "129.4726",
            "3. low": "127.7400",
            "4. close": "128.1900",
            "5. volume": "3760678"
        },
        "2023-02-28": {
            "1. open": "130.5500",
            "2. high": "130.6100",
            "3. low": "129.1400",
            "4. close": "129.3000",
            "5. volume": "5143133"
        },
        "2023-02-27": {
            "1. open": "131.4200",
            "2. high": "131.8700",
            "3. low": "130.1300",
            "4. close": "130.4900",
            "5. volume": "2761326"
        }
    }
}

class Stock extends Component {
    constructor(props) {
        console.log("Hallo")
        super(props);
        this.state = {
            isLoaded: false,
            chartData: [],
            chartVolume: [],
            chartClose: []
        }
    }
    componentDidMount() {
        this.fetchData();
    }

    fetchData() {
        /*
        const pointerToThis = this;
        //Get current Date and last Month date in the Format YYYY-MM-DD
        const todayDate = new Date()
        const today = todayDate.toLocaleDateString('en-CA')
        const lastYearDate = todayDate
        lastYearDate.setFullYear(todayDate.getFullYear() - 1)
        const lastYear = lastYearDate.toLocaleDateString('en-CA')
        //const API_CALL = `http://api.marketstack.com/v1/eod?access_key=${API_KEY}&symbols=${Company}&date_from=${lastYear}&date_to=${today}`
        const API_CALL = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${Company}&outputsize=full&apikey=${API_KEY}`

        let tmp1 = [];
        let tmp2 = [];
        let tmp3 = [];

        axios({
            method: 'GET',
            url: API_CALL
        })
            .then(function (response) {
                console.log(response.data)
                return response.data;
            })
            .then(function(data) {
                for (let key in data['Time Series (Daily)']) {
                    tmp1.push({
                        x: new Date(key),
                        y: [
                            data['Time Series (Daily)'][key]['1. open'],
                            data['Time Series (Daily)'][key]['2. high'],
                            data['Time Series (Daily)'][key]['3. low'],
                            data['Time Series (Daily)'][key]['4. close']
                        ]
                    })
                    tmp2.push({
                        x: new Date(key),
                        y: data['Time Series (Daily)'][key]['6. volume']
                    })
                    tmp3.push({
                        x: new Date(key),
                        y: data['Time Series (Daily)'][key]['4. close']
                    })
                }
                pointerToThis.setState({
                    isLoaded: true,
                    chartData: tmp1,
                    chartVolume: tmp2,
                    chartClose: tmp3,
                })
            }
        );*/
        let pointerToThis = this;
        let data = returnedData;
        let tmp1 = []
        let tmp2 = []
        let tmp3 = []
        for (let key in data['Time Series (Daily)']) {
            tmp1.push({
                x: new Date(key),
                y: [
                    parseInt(data['Time Series (Daily)'][key]['1. open']),
                    parseInt(data['Time Series (Daily)'][key]['2. high']),
                    parseInt(data['Time Series (Daily)'][key]['3. low']),
                    parseInt(data['Time Series (Daily)'][key]['4. close'])
                ]
            })
            tmp2.push({
                x: new Date(key),
                y: parseInt(data['Time Series (Daily)'][key]['5. volume'])
            })
            tmp3.push({
                x: new Date(key),
                y: parseInt(data['Time Series (Daily)'][key]['4. close'])
            })
        }
        pointerToThis.setState({
            isLoaded: true,
            chartData: tmp1,
            chartVolume: tmp2,
            chartClose: tmp3,
        })

    }

    render() {
        const options = {
            theme: "light1",
            title:{
                text:`Aktienkurs von ${Company}`
            },
            subtitles: [{
                text: "Preis-Volumen Trend"
            }],
            charts: [{
                axisX: {
                    lineThickness: 5,
                    tickLength: 0,
                    labelFormatter: function() {
                        return "";
                    },
                    crosshair: {
                        enabled: true,
                        snapToDataPoint: true,
                        labelFormatter: function() {
                            return "";
                        }
                    }
                },
                axisY: {
                    title: `${Company} Kursentwicklung`,
                    prefix: "€",
                    tickLength: 0
                },
                toolTip: {
                    shared: true
                },
                data: [{
                    name: "Preis (in EUR)",
                    yValueFormatString: "€#,###.##",
                    type: "candlestick",
                    dataPoints : this.state.chartData
                }]
            },{
                height: 100,
                axisX: {
                    crosshair: {
                        enabled: true,
                        snapToDataPoint: true
                    }
                },
                axisY: {
                    title: "Volume",
                    prefix: "€",
                    tickLength: 0
                },
                toolTip: {
                    shared: true
                },
                data: [{
                    name: "Volume",
                    yValueFormatString: "€#,###.##",
                    type: "column",
                    dataPoints : this.state.chartVolume
                }]
            }],
            navigator: {
                data: [{
                    dataPoints: this.state.chartClose
                }],
                slider: {
                    minimum: new Date("2023-01-01"),
                    maximum: new Date()
                }
            }
        };
        const containerProps = {
            width: "100%",
            height: "450px",
            margin: "auto"
        };
        return (
            <>
                {
                    this.state.isLoaded &&
                    <CanvasJSStockChart containerProps={containerProps} options = {options} onRef={ref => this.chart = ref}/>
                }
                <Outlet/>
            </>
        );
    }
}

export default Stock;